context('index', () => {
    it('logout', () => {
        cy.visit('localhost:3000/search/Reason')
        cy.get('.tologin').click()
        cy.title('localhost:3000/login')
        cy.get('.uinput').type('test')
        cy.get('.pinput').type('test')
        cy.get('.login-form-button').click()
        cy.wait(500)
        cy.visit('localhost:3000/search/Reason')
        cy.wait(500)
        cy.get('.dropdown').trigger('mouseover').get('.tologout').click()
        cy.get('.my-message').contains('退出成功')
        cy.title('localhost:3000/index')
    })
    it('showhistory', () => {
        cy.visit('localhost:3000/search/Reason')
        cy.get('.tologin').click()
        cy.title('localhost:3000/login')
        cy.get('.uinput').type('test')
        cy.get('.pinput').type('test')
        cy.get('.login-form-button').click()
        cy.wait(500)
        cy.visit('localhost:3000/search/Reason')
        cy.get('.dropdown').trigger('mouseover').get('.showhistory').click()
        cy.get('.drawer').contains('浏览历史')
        cy.get('.ant-drawer-close').click()
        cy.get('.dropdown').trigger('mouseover').get('.tologout').click()
    })
    it('reload',()=>{
        cy.visit('localhost:3000/search/Reason')
        cy.get('.tologin').click()
        cy.title('localhost:3000/login')
        cy.get('.uinput').type('test')
        cy.get('.pinput').type('test')
        cy.get('.login-form-button').click()
        cy.wait(500)
        cy.visit('localhost:3000/search/Reason')
        cy.reload();
        cy.get('.dropdown').contains('Welcome,test')
        cy.get('.dropdown').trigger('mouseover').get('.tologout').click()
    })
})